#### CRUD

- 클라이언트에서 요청을 보내면 먼저 컨트롤러에서 알맞은 요청 경로에 라우팅을 하여 해당 핸들러로 가게 됩니다.
- 그 후 요청을 처리해주기 위해 서비스로 들어가며 그 요청에 맞는 로직을 서비스에서 처리해 준 뒤 컨트롤러에 리턴값을 보내줍니다.
- 마지막으로 컨트롤러에서 결과값을 리턴해주게 됩니다.

Controller <=> handle the request <= service

#### Board Model 정의하기

- 게시물에 필요한 데이터가 어떤 것이 필요한지 저으이해주기 위해 게시물의 모델을 만들어주자!
- 예를 들어 게시물 데이터에는 ID가 필요하고 이름 설명 등이 필요하다.
- board.model.ts

##### 모델을 정의

- 모델을 정의하기 위해선 Class 또는 Interface를 이용하면 됩니다.
- interface => 변수의 타입만을 체크합니다.
- classes => 변수의 타입도 체크하고 인스턴스 또한 생성 가능합니다.

##### Type을 정의해 주면 좋은 이유

- 타입을 정의해주는 것은 선택 사항이지만 타입을 정의해줌으로써 타입과 다른 코드를 사용할 시 에러가 발생하게 됩니다.
- 또한 코드를 읽는 입장에서 더 코드를 쉽게 이해하며 읽을 수 있습니다.

#### C Create

- 게시물에 관한 로직을 처리하는 곳은 Service 입니다.
- Service에서 로직을 처리한 후 Controller에 서비스를 불러오겠습니다.
- Service => Controllser

##### 게시물 ID는 어떻게 처리하나요

- ID는 모든 게시물에 유니크해야 합니다.
- 만약 DB를 사용하면 DB에서 알아서 유니크한 값을 줍니다.
- 하지만 현재 우리는 DB를 사용하지 않고 Memory에서 사용하기에 uuid 모듈을 사용하겠습니다.

- npm install add uuid --save
- import { v1 as uuid } from 'uuid'

##### Client에서 보내는 값을 어떻게 받을까요

- @Body를 통해 body 값을 가져옵니다.
- @Body()를 사용하면 모든 request에서 보내온 값을 가져올 수 있습니다.
- 하나씩 가져오려면 아래와 같이 가져오면 됩니다.
  - @Body('title') title:string, @Body('description') description:string,

#### DTO ( Data transfer Object )

- DTO란 계층간 데이터 교환을 위한 객체입니다.
- DB에서 데이터를 얻어 Service나 Controller 등으로 보낼 때 사용하는 객체입니다.
- DTO는 데이터가 네트워크를 통해 전송되는 방법을 정의하는 객체입니다.
- DTO는 interface나 class 통해 정의됩니다. ( Nest 는 클래스를 사용하는 것을 권장합니다. )

##### DTO를 사용하는 이유는 무엇인가요?

- 데이터 유효성을 체크하는 데 효율적입니다.
- 더 안정적인 코드를 만들어 줍니다.
- 타입스크립트의 타입으로도 사용됩니다.

### Nest 내의 데이터 흐름

- Board 처리를 위해 Property( title, description ) 들이 여러 곳에서 사용되고 있습니다.

- 지금은 간단하기에 몇개의 프로퍼티만 사용하지만 실무에선 상당히 많은 프로퍼티를 여러군데에서 이용하게 됩니다.
- 갑자기 한 곳에서 프로퍼티의 이름을 바꾸어야 되는 경우 다른 곳에 쓰인 똑같은 프로퍼티 또한 바꾸어 줘야해 유지 보수에 상당한 어려움을 겪게 됩니다.
- 이런 어려움을 DTO를 사용해 해결할 수 있습니다.

##### DTO를 class로 생성하는 이유

- 클래스는 인터페이스와 다르게 런타임에서 작동하기 때문에 파이프 같은 기능을 이용할 때 더 유용하게 사용됩니다.
- 그렇기에 클래스를 사용해 DTO를 작성합니다.

#### 특정 id를 이용한 게시물 가져오기

##### @Param()

- 여러개 가져올 때는 @Param() params: string[]
- 한개 가져올 때는 @Param("endpoint와 같은 이름" endpoint와 같은 이름: Type)

#### 특정 ID로 게시물 지우기

#### 특정 게시물의 상태 업데이트
